function LeapMotionDetect(c,d,e){function g(){"object"==typeof Leap&&(clearInterval(f),c(!0,d))}var b=0,f;setTimeout(function(){1>b&&(a.close(),c(!1,d),a.onmessage=function(){});1==b&&(a.close(),c(!1,d),a.onmessage=function(){})},2E3);if("WebSocket"in window){var a=new WebSocket("ws://localhost:6437");a.onopen=function(){a.send("")};a.onmessage=function(h){obj=JSON.parse(h.data);obj.version&&0==b?b++:obj.currentFrameRate&&0<b?(b++,a.close(),a.onmessage=function(){},f=setInterval(g,100),newScript=
document.createElement("script"),newScript.type="text/javascript",newScript.src=e?"//js.leapmotion.com/leap-"+e+".js":"//js.leapmotion.com/leap-0.6.0.js",document.getElementsByTagName("head")[0].appendChild(newScript)):(a.close(),c(!1,d),a.onmessage=function(){})};a.onclose=function(){}}else c(null,d)};
